<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Auto-formatters</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Auto-formatters</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md10"></a>All formatters can be automatically called before each commit with the help of <a href="https://pre-commit.com/">pre-commit</a>! To set it up, simply nagivate to the root of the project and call </p><div class="fragment"><div class="line">pre-commmit install</div>
</div><!-- fragment --><p> That's it!</p>
<h2><a class="anchor" id="autotoc_md11"></a>
For Python</h2>
<p>We use <a href="https://github.com/psf/black">Black</a>, with <code>--line-length 100</code></p>
<h2><a class="anchor" id="autotoc_md12"></a>
For C++</h2>
<p>We use <a href="https://clang.llvm.org/docs/ClangFormat.html">clang-format</a>.</p>
<p>All of the options are found inside of the <code>.clang-format</code> file. LLVM's format is the base, with some specific overridden options:</p><ul>
<li><code>UseTab: Never</code>: Always forces spaces for indentation</li>
<li><code>IndentWidth: 4</code>: Use 4-space standard for indentation</li>
<li><code>IndentPPDirectives: AfterHash</code>: Indent preprocessor directives after their '#'</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md14"></a>
Build Systems</h1>
<h2><a class="anchor" id="autotoc_md15"></a>
In Python</h2>
<p><a href="https://github.com/scikit-build/scikit-build-core">scikit-build-core</a> is used to bridge the gap between a Python end-user trying to <code>pip install x</code> and CMake manually compiling dynamic libraries. It makes installation of the library a simple 1-step process for most users.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
In C++</h2>
<p><a href="https://cmake.org/">CMake</a> is the tool that generates files for OS-specific compilation of source code. It has great compatibility with pybind11 and scikit-build-core.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md18"></a>
Why pybind11?</h1>
<p>Pybind11 was chosen for its minimal boilerplate, seamless NumPy integration, and modern C++ support. It allows us to expose C++ functions and classes to Python with very little overhead, making it easy to maintain and extend the codebase.</p>
<p>Since pybind is chosen as the interface for this project, the stub generator is obviously pybind-stubgen. However, some problems have appeared with it, notably when trying to add external libraries. It may get replaced with mypy's stubgen in the future.</p>
<p>Other alternatives were considered, but ultimetly rejected:</p>
<ol type="1">
<li><b>Numba</b><ul>
<li>While Numba is excellent for accelerating generic Python code, our data structures are highly specialized and already optimized in C++. Numba would offer limited additional benefit and cannot easily accelerate C++ code.</li>
</ul>
</li>
<li><b>Cython</b><ul>
<li>Cython is powerful for optimizing Python code and interfacing with C, but it often requires rewriting parts (if not most) of functions to take full advantage of its features. At that point, we might as well rewrite everything in pure C/C++</li>
</ul>
</li>
<li><b>Boost.Python</b><ul>
<li>Boost.Python is feature-rich but introduces significant overhead and complexity. It requires more boilerplate code, demands loads more dependencies, and is generally slower compared to pybind11. </li>
</ul>
</li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
