<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The Z2 Project: External Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!-- <script type="text/javascript" src="doxygen-awesome.js"></script> -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
  // initialize dark mode toggle (safe â€“ initialization is idempotent)
  if (typeof DoxygenAwesomeDarkModeToggle !== 'undefined') {
    DoxygenAwesomeDarkModeToggle.init();
  }
  // some versions expose a global initializer; keep it safe
  if (typeof DoxygenAwesome !== 'undefined' && typeof DoxygenAwesome.init === 'function') {
    DoxygenAwesome.init();
  }
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
    DoxygenAwesomeInteractiveToc.hideMobileMenu = false;
    // DoxygenAwesomeInteractiveToc.minHeadings = 1; // Always show TOC, even with one heading
    DoxygenAwesomeInteractiveToc.init();
</script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo_cropped.png"/></td>
  <td id="projectalign">
   <div id="projectname">The Z2 Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_wiki_external_tools.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">External Tools </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md25"></a>
Auto-formatters</h1>
<p>All formatters can be automatically called before each commit with the help of <a href="https://pre-commit.com/">pre-commit</a>! To set it up, simply nagivate to the root of the project and call </p><div class="fragment"><div class="line">pre-commmit install</div>
</div><!-- fragment --><p> This will make it clang-format and black are called before any commit is made.</p>
<h2><a class="anchor" id="autotoc_md26"></a>
For Python</h2>
<p>We use <a href="https://github.com/psf/black">Black</a>, with <code>--line-length 100</code></p>
<h2><a class="anchor" id="autotoc_md27"></a>
For C++</h2>
<p>We use <a href="https://clang.llvm.org/docs/ClangFormat.html">clang-format</a>.</p>
<p>All of the options are found inside of the <code>.clang-format</code> file. LLVM's format is the base, with some specific overridden options:</p><ul>
<li><code>UseTab: Never</code>: Always forces spaces for indentation</li>
<li><code>IndentWidth: 4</code>: Use 4-space standard for indentation</li>
<li><code>IndentPPDirectives: AfterHash</code>: Indent preprocessor directives after their '#'</li>
</ul>
<h2><a class="anchor" id="autotoc_md28"></a>
For CMake</h2>
<p>We use <a href="https://cmake-format.readthedocs.io/en/latest/installation.html">cmake-format</a>.</p>
<p>It's an old tool that is a bit superfluous (since there's only 1 cmake file). Not very necessary to keep.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md30"></a>
Build Systems</h1>
<h2><a class="anchor" id="autotoc_md31"></a>
In Python</h2>
<p><a href="https://github.com/scikit-build/scikit-build-core">scikit-build-core</a> is used to bridge the gap between a Python end-user trying to <code>pip install x</code> and CMake manually compiling dynamic libraries. It makes installation of the library a simple 1-step process for most users.</p>
<h2><a class="anchor" id="autotoc_md32"></a>
In C++</h2>
<p><a href="https://cmake.org/">CMake</a> is the tool that generates files for OS-specific compilation of source code. It has great compatibility with pybind11 and scikit-build-core.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md34"></a>
Documentation</h1>
<p>Code comments are written in the <a href="https://www.doxygen.nl/">Doxygen</a> format, with a better looking CSS/JS from <a href="https://github.com/jothepro/doxygen-awesome-css">Doxygen Awesome</a> Any markdown files created should be located in <code>/docs/wiki/</code>.</p>
<p>On any push to <code>main</code>, a GH Action will trigger and try to generate the documentation and push changes to the <code>gh-pages</code> branch. This usually takes a minute. If successful, the GH will update the website at: <a href="https://algolab-quantique.github.io/Stage-A25-Zakary/">https://algolab-quantique.github.io/Stage-A25-Zakary/</a></p>
<p>To test documentation without having to merge/push on <code>main</code>, navigate to project root and call <code>doxygen Doxyfile</code>. Output should be located in <code>/docs/html/</code>. Open <code>index.html</code> with a web browser to navigate the site locally.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md36"></a>
Pybind11 (and why it was chosen)</h1>
<p>Pybind11 was chosen for its minimal boilerplate, seamless NumPy integration, and modern C++ support. It allows us to expose C++ functions and classes to Python with very little overhead, making it easy to maintain and extend the codebase.</p>
<p>Since pybind is chosen as the interface for this project, the stub generator is obviously <a href="https://github.com/sizmailov/pybind11-stubgen">pybind-stubgen</a>. However, some problems have appeared with it, notably when trying to add external libraries. It may get replaced with mypy's stubgen in the future.</p>
<p>Other alternatives were considered, but ultimetly rejected:</p>
<ol type="1">
<li><b>Numba</b><ul>
<li>While Numba is excellent for accelerating generic Python code, our data structures are highly specialized and already optimized in C++. Numba would offer limited additional benefit and cannot easily accelerate C++ code.</li>
</ul>
</li>
<li><b>Cython</b><ul>
<li>Cython is powerful for optimizing Python code and interfacing with C, but it often requires rewriting parts (if not most) of functions to take full advantage of its features. At that point, we might as well rewrite everything in pure C/C++</li>
</ul>
</li>
<li><b>Boost.Python</b><ul>
<li>Boost.Python is feature-rich but introduces significant overhead and complexity. It requires more boilerplate code, demands loads more dependencies, and is generally slower compared to pybind11. </li>
</ul>
</li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
